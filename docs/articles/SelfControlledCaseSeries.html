<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Self-Controlled Case Series • OhdsiShinyModules</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Self-Controlled Case Series">
<meta property="og:description" content="OhdsiShinyModules">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">OhdsiShinyModules</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.1.3.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/AddingShinyModules.html">Contribute</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/AddingShinyModules.html">Adding Shiny Modules</a>
    </li>
    <li>
      <a href="../articles/Characterization.html">Characterization</a>
    </li>
    <li>
      <a href="../articles/CohortDiagnostics.html">Cohort Diagnostics</a>
    </li>
    <li>
      <a href="../articles/CohortMethod.html">Cohort Method (Estimation)</a>
    </li>
    <li>
      <a href="../articles/Cohorts.html">Cohorts</a>
    </li>
    <li>
      <a href="../articles/DataSources.html">Data Sources</a>
    </li>
    <li>
      <a href="../articles/EvidenceSynthesis.html">Evidence Synthesis (Meta, Meta Analysis)</a>
    </li>
    <li>
      <a href="../articles/Prediction.html">Prediction</a>
    </li>
    <li>
      <a href="../articles/SelfControlledCaseSeries.html">Self-Controlled Case Series</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://ohdsi.github.io/Hades" class="external-link">hadesLogo</a>
</li>
<li>
  <a href="https://github.com/OHDSI/PatientLevelPrediction" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Self-Controlled Case Series</h1>
                        <h4 data-toc-skip class="author">Nathan
Hall</h4>
            
            <h4 data-toc-skip class="date">2024-04-05</h4>
      
      
      <div class="hidden name"><code>SelfControlledCaseSeries.Rmd</code></div>

    </div>

    
    
<!--
%\VignetteEngine{knitr}
%\VignetteIndexEntry{Self-Controlled Case Series}
-->
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The Self-Controlled Case Series (SCCS) method offers a nuanced
approach to investigating the relationship between exposures and
outcomes within individual patients over time. SCCS designs are
particularly adept at comparing the rate of outcomes during times of
exposure to rates during periods of non-exposure, including before,
between, and after exposure episodes. By leveraging a Poisson regression
that is conditioned on the individual, the SCCS design inherently
addresses the question: “Given that a patient has the outcome, is the
outcome more likely to occur during exposed time compared to non-exposed
time?” The design choices outlined in the method are pivotal for
defining an SCCS question, with each choice playing a critical role in
the study’s design and outcomes:</p>
<p><strong>Target Cohort</strong>: This represents the treatment under
investigation. <strong>Outcome Cohort</strong>: This cohort signifies
the outcome of interest. <strong>Time-at-Risk</strong>: Identifies the
specific times when the risk of the outcome is considered, often
relative to the start and end dates of the target cohort.
<strong>Model</strong>: Defines the statistical model used to estimate
the effect, including adjustments for time-varying confounders if
necessary.</p>
<p>One of the SCCS design’s strengths is its robustness to confounding
by factors that differ between individuals, as each participant serves
as their own control. However, it remains sensitive to time-varying
confounding factors. To mitigate this, adjustments can be made for
factors such as age, seasonality, and calendar time, enhancing the
model’s accuracy.</p>
<p>An advanced variant of the SCCS also considers all other drug
exposures recorded in the database, significantly expanding the model’s
variables. This approach employs L1-regularization, with
cross-validation used to select the regularization hyperparameter for
all exposures except the one of interest.</p>
<p>An important assumption of the SCCS is that the observation period’s
end is independent of the outcome date. This may not hold true for
outcomes that can be fatal, such as stroke. To address this, extensions
to the SCCS model have been developed that correct for any dependency
between the observation period end and the outcome.</p>
</div>
<div class="section level2">
<h2 id="features-and-functionalities">Features and Functionalities<a class="anchor" aria-label="anchor" href="#features-and-functionalities"></a>
</h2>
<p>The <a href="https://ohdsi.github.io/SelfControlledCaseSeries/" title="SCCS" class="external-link">SelfControlledCaseSeries</a> R package allows the user to
perform SCCS analyses in an observational database in the OMOP Common
Data Model. Some of the features offered by the SCCS module include:</p>
<ol style="list-style-type: decimal">
<li>**Data Extraction: Extracts necessary data from databases structured
in the OMOP Common Data Model (CDM) format, ensuring uniformity and
compatibility across diverse healthcare settings.</li>
<li>
<strong>Seasonality Adjustment</strong>: Offers the option to adjust
for seasonality effects using a spline function, enhancing the model’s
accuracy by accounting for seasonal variation in exposure and outcome
rates.</li>
<li>
<strong>Age Adjustment</strong>: Provides the option to incorporate
age adjustments using a spline function, allowing for more nuanced
analyses that consider the impact of age on the exposure-outcome
relationship.</li>
<li>
<strong>Calendar Time Adjustment</strong>: Enables the inclusion of
calendar time adjustments using a spline function, addressing potential
temporal trends in the data that could confound the exposure-outcome
relationship.</li>
<li>
<strong>Event-dependent Censoring Correction</strong>: Features the
ability to correct for event-dependent censoring of the observation
period, ensuring that the end of the observation period is appropriately
handled, especially in cases where it might be related to the
outcome.</li>
<li>
<strong>Comprehensive Covariate Inclusion</strong>: Allows for the
addition of a wide array of covariates in one analysis, such as all
recorded drug exposures, facilitating a thorough examination of
potential confounders and effect modifiers.</li>
<li>
<strong>Risk Window Customization</strong>: Supports the
construction of various types of covariates and risk windows, including
pre-exposure windows, to capture contra-indications and other relevant
temporal patterns related to exposure and outcome.</li>
<li>
<strong>Regularization of Covariates</strong>: Applies
regularization to all covariates except the outcome of interest,
employing techniques like L1-regularization with cross-validation for
selecting the regularization hyperparameter, thereby preventing
overfitting and enhancing model reliability.</li>
<li>
<strong>Self-Controlled Risk Interval Design</strong>: Incorporates
the self-controlled risk interval design as a specific application of
the SCCS method, offering additional methodological flexibility for
studying short-term effects of exposures.</li>
<li>
<strong>Power</strong>: Incorporates power analysis techniques to
estimate the statistical power of the study design, aiding in sample
size determination and study planning, and provides a minimum-detectable
relative risk (MDRR) statistic.</li>
<li>
<strong>Attrition</strong>: Assesses attrition rates within cohorts,
providing insights into potential biases introduced by data loss during
the study period, and provides a visualization of attrition across
various cohort criteria.</li>
<li>
<strong>Spanning</strong>: Analyzes the number of subjects observed
for 3 consecutive months, providing insights into the cohort’s
consistency and stability over time.</li>
<li>
<strong>Time Trend</strong>: Assesses the ratio of observed to
expected outcomes per month, with adjustments for calendar time,
seasonality, and/or age as specified in the model, to examine time
trends in the data.</li>
<li>
<strong>Time to Event</strong>: Evaluates the number of events and
subjects observed per week relative to the start of the first exposure,
offering critical insights into the temporal relationship between
exposure and outcome.</li>
<li>
<strong>Event-dependent Observation</strong>: Provides histograms
for the time between the first occurrence of the outcome and the end of
observation, stratified by censored and uncensored ends of observation,
to assess the impact of event-dependent observation periods.</li>
<li>
<strong>Systematic Error</strong>: Assesses effect size estimates
for negative controls (true hazard ratio = 1) and positive controls
(true hazard ratio &gt; 1) both before and after calibration. Estimates
below the diagonal dashed lines are statistically significant (alpha =
0.05) different from the true effect size. A well-calibrated estimator
should have the true effect size within the 95 percent confidence
interval 95 percent of times, providing researchers with confidence in
the reliability of the estimation process and the accuracy of the
obtained results.</li>
</ol>
</div>
<div class="section level2">
<h2 id="utility-and-application">Utility and Application<a class="anchor" aria-label="anchor" href="#utility-and-application"></a>
</h2>
<p>The SCCS method is particularly applicable in several key areas of
epidemiological research and pharmacovigilance:</p>
<p><strong>Drug Safety Surveillance</strong>: The SCCS method is widely
used in drug safety surveillance to identify adverse effects of
medications post-marketing. It is well-suited to detect short-term risks
associated with drug exposures, especially where the onset of the
adverse event is expected to be temporally close to the exposure.</p>
<p><strong>Vaccine Safety Evaluation</strong>: The SCCS design is ideal
for assessing the safety of vaccines, especially in evaluating the risk
of adverse events following immunization. Its self-controlled nature
helps to address concerns about confounding by indication and other
biases that can affect observational studies in vaccine safety.</p>
<p><strong>Comparative Effectiveness Research</strong>: While primarily
designed for evaluating the safety of medical interventions, the SCCS
method can also be adapted to compare the effectiveness of different
treatments or interventions within the same individual over time,
particularly for acute conditions.</p>
<p><strong>Epidemiological Research</strong>: More broadly, the SCCS
method is used in epidemiological research to study the temporal
relationships between exposures and outcomes, offering insights into the
causality and mechanisms underlying health conditions and diseases.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Jenna Reps.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
